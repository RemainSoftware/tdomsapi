{
  "openapi" : "3.0.1",
  "info" : {
    "title" : "Branch API.",
    "description" : "The BRANCH REST API enables you to create, change and delete branches. It also enables you to calculate the status of a branch. In addition, it supports Branch Stash and Branch Restore functionalities. \r\n\r\nBranch Stash:   \r\nBranch stashing is like putting your unfinished work in a safe place so you can come back later without losing anything.Follow these rules for Branch stashing:  \r\nA branch cannot be stashed if it has more than one sub-environment defined.\r\n\r\nAll solutions must be present in the Development environment.\r\n\r\nAfter stashing the branch, do not delete the stashed environment, otherwise, the branch cannot be restored.\r\n\r\nBranch Restore:    \r\nBranch restore is like taking your saved work back so you can continue right where you left off.\r\n\r\nNote: When a branch is restored, the task is reloaded with all the solutions exactly as they were when stashed.                      ",
    "termsOfService" : "",
    "contact" : {
      "name" : "Remain Software",
      "url" : "https://remainsoftware.com",
      "email" : "helpdesk@remainsoftware.com"
    },
    "license" : {
      "name" : "Remain Software Commercial License",
      "url" : "https://remainsoftware.com/software-licensing"
    },
    "version" : "0.0.1",
    "x-restgeninfo" : {
      "server" : "https://plato.remainsoftware.com:45111/generator",
      "object" : "OMQRBR",
      "library" : "V18T0061",
      "srclibrary" : "V18T0061S",
      "file" : "BranchAPI.json"
    }
  },
  "servers" : [ {
    "url" : "{protocol}://{host}:{port}/{library}/OMQRBR",
    "description" : "",
    "variables" : {
      "host" : {
        "description" : "The host serving the API",
        "default" : "plato.remainsoftware.com"
      },
      "library" : {
        "description" : "The TD/OMS library",
        "default" : "OMS"
      },
      "port" : {
        "description" : "The port to which the server is listening",
        "default" : "45011"
      },
      "protocol" : {
        "description" : "Protocol",
        "default" : "https",
        "enum" : [ "https", "http" ]
      }
    }
  } ],
  "security" : [ {
    "JWT" : [ ]
  } ],
  "paths" : {
    "/add" : {
      "summary" : "Use this path to add a new branch.",
      "description" : "Use this path to add a new branch.",
      "post" : {
        "summary" : "Use this operation to add a new branch.",
        "description" : "Use this operation to add a new branch.",
        "operationId" : "addBranch",
        "requestBody" : {
          "description" : "Use this operation to add a new branch.",
          "content" : {
            "application/json" : {
              "schema" : {
                "$ref" : "#/components/schemas/addRequest"
              },
              "examples" : {
                "addBranch" : {
                  "summary" : "How to specify the add branch request input parameters value.",
                  "value" : {
                    "applicationCode" : "XMP",
                    "pathCode" : "XT0275",
                    "connectToFix" : "*BRANCH",
                    "transferPathDescription" : "Branch for task XT0275.",
                    "forceInd" : "0"
                  }
                }
              }
            }
          },
          "required" : true
        },
        "responses" : {
          "200" : {
            "description" : "OK",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/response"
                },
                "examples" : {
                  "response200" : {
                    "value" : null,
                    "$ref" : "#/components/examples/response200"
                  }
                }
              }
            }
          },
          "400" : {
            "description" : "Bad Request from Client",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/extendedMessage"
                },
                "examples" : {
                  "response400" : {
                    "value" : null,
                    "$ref" : "#/components/examples/response400"
                  }
                }
              }
            }
          },
          "401" : {
            "description" : "not authorized",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/extendedMessage"
                },
                "examples" : {
                  "response401" : {
                    "value" : null,
                    "$ref" : "#/components/examples/response401"
                  }
                }
              }
            }
          }
        },
        "callbacks" : { },
        "x-generate" : {
          "session" : false,
          "jwtlogin" : false,
          "suffix" : "01",
          "generate" : false
        }
      }
    },
    "/change" : {
      "summary" : "Use this path to change a branch.",
      "description" : "Use this path to change a branch.",
      "post" : {
        "summary" : "Use this operation to change a branch.",
        "description" : "Use this operation to change a branch.",
        "operationId" : "changeBranch",
        "requestBody" : {
          "description" : "Use this operation to change a branch.",
          "content" : {
            "application/json" : {
              "schema" : {
                "$ref" : "#/components/schemas/changeRequest"
              },
              "examples" : {
                "changeBranch" : {
                  "summary" : "How to specify the change branch request input parameters value.",
                  "value" : {
                    "applicationCode" : "XMP",
                    "pathCode" : "XT0275",
                    "transferPathDescription" : "Branch for task XT0275 changed."
                  }
                }
              }
            }
          },
          "required" : true
        },
        "responses" : {
          "200" : {
            "description" : "OK",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/response"
                },
                "examples" : {
                  "response200" : {
                    "value" : null,
                    "$ref" : "#/components/examples/response200"
                  }
                }
              }
            }
          },
          "401" : {
            "description" : "not authorized",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/extendedMessage"
                },
                "examples" : {
                  "response401" : {
                    "value" : null,
                    "$ref" : "#/components/examples/response401"
                  }
                }
              }
            }
          },
          "400" : {
            "description" : "Bad request from client",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/extendedMessage"
                },
                "examples" : {
                  "response400" : {
                    "value" : null,
                    "$ref" : "#/components/examples/response400"
                  }
                }
              }
            }
          }
        },
        "callbacks" : { },
        "x-generate" : {
          "session" : false,
          "jwtlogin" : false,
          "suffix" : "02",
          "generate" : false
        }
      }
    },
    "/delete" : {
      "summary" : "Use this path to delete a branch.",
      "description" : "Use this path to delete a branch.",
      "post" : {
        "summary" : "Use this operation to delete a branch.",
        "description" : "Use this operation to delete a branch.",
        "operationId" : "deleteBranch",
        "requestBody" : {
          "description" : "Use this operation to delete a branch.",
          "content" : {
            "application/json" : {
              "schema" : {
                "$ref" : "#/components/schemas/deleteRequest"
              },
              "examples" : {
                "deleteBranch" : {
                  "summary" : "How to specify the delete branch request input parameters value.",
                  "value" : {
                    "applicationCode" : "XMP",
                    "pathCode" : "XT0275",
                    "forceInd" : "0"
                  }
                }
              }
            }
          },
          "required" : true
        },
        "responses" : {
          "401" : {
            "description" : "not authorized",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/extendedMessage"
                },
                "examples" : {
                  "response401" : {
                    "value" : null,
                    "$ref" : "#/components/examples/response401"
                  }
                }
              }
            }
          },
          "200" : {
            "description" : "OK",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/response"
                },
                "examples" : {
                  "response200" : {
                    "value" : null,
                    "$ref" : "#/components/examples/response200"
                  }
                }
              }
            }
          },
          "400" : {
            "description" : "Bad request from client",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/extendedMessage"
                },
                "examples" : {
                  "response400" : {
                    "value" : null,
                    "$ref" : "#/components/examples/response400"
                  }
                }
              }
            }
          }
        },
        "callbacks" : { },
        "x-generate" : {
          "session" : false,
          "jwtlogin" : false,
          "suffix" : "03",
          "generate" : false
        }
      }
    },
    "/status" : {
      "summary" : "Use this path to calculate and update the status of a branch.",
      "description" : "Use this path to calculate and update the status of a branch.",
      "post" : {
        "summary" : "Use this operation to calculate and update the status of a branch.",
        "description" : "Use this operation to calculate and update the status of a branch.",
        "operationId" : "statusBranch",
        "requestBody" : {
          "description" : "Use this operation to calculate and update the status of a branch.",
          "content" : {
            "application/json" : {
              "schema" : {
                "$ref" : "#/components/schemas/statusRequest"
              },
              "examples" : {
                "status" : {
                  "summary" : "How to specify the branch status request input parameters value.",
                  "value" : {
                    "applicationCode" : "XMP",
                    "pathCode" : "XT0275"
                  }
                }
              }
            }
          },
          "required" : true
        },
        "responses" : {
          "200" : {
            "description" : "OK",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/response"
                },
                "examples" : {
                  "response200" : {
                    "value" : null,
                    "$ref" : "#/components/examples/response200"
                  }
                }
              }
            }
          },
          "400" : {
            "description" : "Bad request from client",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/extendedMessage"
                },
                "examples" : {
                  "response400" : {
                    "value" : null,
                    "$ref" : "#/components/examples/response400"
                  }
                }
              }
            }
          },
          "401" : {
            "description" : "not authorized",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/response"
                },
                "examples" : {
                  "response401" : {
                    "value" : null,
                    "$ref" : "#/components/examples/response401"
                  }
                }
              }
            }
          }
        },
        "callbacks" : { },
        "x-generate" : {
          "session" : false,
          "jwtlogin" : false,
          "suffix" : "04",
          "generate" : false
        }
      }
    },
    "/stash" : {
      "summary" : "Use this path to stash the branch.",
      "description" : "Use this path to stash the branch.",
      "post" : {
        "summary" : "Use this operation to stash the branch.",
        "description" : "Use this operation to stash the branch.",
        "operationId" : "stash",
        "requestBody" : {
          "description" : "Use this request input to stash the branch.",
          "content" : {
            "application/json" : {
              "schema" : {
                "$ref" : "#/components/schemas/stashBranchRequest"
              }
            }
          },
          "required" : true
        },
        "responses" : {
          "200" : {
            "description" : "OK",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/stashOrRestoreBranchResponse"
                },
                "examples" : {
                  "stashResponse200" : {
                    "summary" : "Response to a successful API call.",
                    "value" : {
                      "status" : "*NORM",
                      "message" : {
                        "messageFile" : "OMSAPI",
                        "messageId" : "OMQ2016",
                        "messageData" : "XT0275    XMP",
                        "messageText" : "Action for branch XT0275 in application XMP completed normally"
                      },
                      "stashOrRestoreBranchData" : {
                        "applicationCode" : "XMP",
                        "environmentCode" : "*DEV",
                        "pathCode" : "XT0275",
                        "saveFile" : "SBXXXXXXXX",
                        "fallBackLibrary" : "OMHD_FLB",
                        "userIdOrUserClass" : "ALICE"
                      }
                    }
                  }
                }
              }
            }
          },
          "400" : {
            "description" : "Something went wrong.",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/extendedMessage"
                },
                "examples" : {
                  "stashRestoreresponse400" : {
                    "value" : null,
                    "$ref" : "#/components/examples/stashRestoreresponse400"
                  }
                }
              }
            }
          },
          "401" : {
            "description" : "Not authorized.",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/extendedMessage"
                },
                "examples" : {
                  "response401" : {
                    "value" : null,
                    "$ref" : "#/components/examples/response401"
                  }
                }
              }
            }
          }
        },
        "callbacks" : { },
        "x-generate" : {
          "session" : false,
          "jwtlogin" : false,
          "suffix" : "05",
          "generate" : false
        }
      }
    },
    "/restore" : {
      "summary" : "Use this path to restore the branch.",
      "description" : "Use this path to restore the branch.",
      "post" : {
        "summary" : "Use this operation to restore the branch.",
        "description" : "Use this operation to restore the branch.",
        "operationId" : "restore",
        "requestBody" : {
          "description" : "Use this request input to restore the branch.",
          "content" : {
            "application/json" : {
              "schema" : {
                "$ref" : "#/components/schemas/restoreBranchRequest"
              }
            }
          },
          "required" : true
        },
        "responses" : {
          "200" : {
            "description" : "OK",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/stashOrRestoreBranchResponse"
                },
                "examples" : {
                  "restoreResponse200" : {
                    "summary" : "Response to a successful API call.",
                    "value" : {
                      "status" : "*NORM",
                      "message" : {
                        "messageFile" : "OMSAPI",
                        "messageId" : "OMQ2016",
                        "messageData" : "XT0275    XMP",
                        "messageText" : "Action for branch XT0275 in application XMP completed normally"
                      },
                      "stashOrRestoreBranchData" : {
                        "applicationCode" : "",
                        "environmentCode" : "",
                        "pathCode" : "",
                        "saveFile" : "",
                        "fallBackLibrary" : "",
                        "userIdOrUserClass" : ""
                      }
                    }
                  }
                }
              }
            }
          },
          "400" : {
            "description" : "Something went wrong.",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/extendedMessage"
                },
                "examples" : {
                  "stashRestoreresponse400" : {
                    "value" : null,
                    "$ref" : "#/components/examples/stashRestoreresponse400"
                  }
                }
              }
            }
          },
          "401" : {
            "description" : "Not authorized.",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/extendedMessage"
                },
                "examples" : {
                  "response401" : {
                    "value" : null,
                    "$ref" : "#/components/examples/response401"
                  }
                }
              }
            }
          }
        },
        "callbacks" : { },
        "x-generate" : {
          "session" : false,
          "jwtlogin" : false,
          "suffix" : "06",
          "generate" : false
        }
      }
    }
  },
  "components" : {
    "schemas" : {
      "extendedMessage" : {
        "type" : "object",
        "properties" : {
          "messageFile" : {
            "maxLength" : 10,
            "type" : "string",
            "description" : "The IBM i message file."
          },
          "messageId" : {
            "maxLength" : 7,
            "type" : "string",
            "description" : "The message id."
          },
          "messageData" : {
            "maxLength" : 80,
            "type" : "string",
            "description" : "The message substitution data."
          },
          "messageText" : {
            "maxLength" : 512,
            "type" : "string",
            "description" : "The human readable message text."
          }
        },
        "description" : "Extended Message"
      },
      "message" : {
        "type" : "string",
        "description" : "message"
      },
      "changeRequest" : {
        "type" : "object",
        "properties" : {
          "applicationCode" : {
            "maxLength" : 5,
            "type" : "string",
            "description" : "Enter the application code."
          },
          "pathCode" : {
            "maxLength" : 10,
            "type" : "string",
            "description" : "Enter the branch name to be changed."
          },
          "transferPathDescription" : {
            "maxLength" : 50,
            "type" : "string",
            "description" : "Enter the branch description to be changed."
          }
        },
        "description" : "A branch is changed using this input schema."
      },
      "response" : {
        "type" : "object",
        "properties" : {
          "messages" : {
            "$ref" : "#/components/schemas/extendedMessage"
          },
          "status" : {
            "maxLength" : 5,
            "type" : "string",
            "description" : "The return status which can be *NORM or *TERM. In case of *TERM look at the messages for more information."
          }
        },
        "description" : "Output schema for branch."
      },
      "addRequest" : {
        "type" : "object",
        "properties" : {
          "applicationCode" : {
            "maxLength" : 5,
            "type" : "string",
            "description" : "Enter the name of the application."
          },
          "pathCode" : {
            "maxLength" : 10,
            "type" : "string",
            "description" : "enter the name of the branch to be created."
          },
          "connectToFix" : {
            "maxLength" : 10,
            "type" : "string",
            "description" : "Enter the task name to which the transfer path is connected.\r\n*NONE                                                     \r\n    No task is involved.                              \r\n                                                          \r\n*BRANCH                                                   \r\n    The branch code would be set the name of the task.\r\ntask-code                              \r\n    Specify the name of the task.",
            "default" : "*NONE",
            "enum" : [ "*NONE", "*BRANCH", "Task Number" ]
          },
          "transferPathDescription" : {
            "maxLength" : 50,
            "type" : "string",
            "description" : "The description contains a short description of the branch. A blank value is not allowed.                \r\n\r\n*SAME                                                     \r\n    Use this value to indicate that the description does not change. \r\n\r\ndescription                    \r\n    Enter a branch description."
          },
          "forceInd" : {
            "maxLength" : 1,
            "type" : "string",
            "description" : "If the task is already connected to another branch then you cannot continue unless the force parameter is set to *YES.       \r\n\r\n*NO \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n    The branch can only be assigned to the task when the  task is not already assigned to another branch.                  \r\n                                                                     \r\n*YES                                                                 \r\n    The branch will forcefully be assigned to the task, even if the task is already  ",
            "default" : "0",
            "enum" : [ "0", "1" ]
          }
        },
        "description" : "A branch is created using this input schema."
      },
      "statusRequest" : {
        "type" : "object",
        "properties" : {
          "applicationCode" : {
            "maxLength" : 5,
            "type" : "string",
            "description" : "Enter the application code."
          },
          "pathCode" : {
            "maxLength" : 10,
            "type" : "string",
            "description" : "Enter the branch code for which status has to be calculated."
          }
        },
        "description" : "A branch status is calculated and updated using this input schema."
      },
      "deleteRequest" : {
        "type" : "object",
        "properties" : {
          "applicationCode" : {
            "maxLength" : 5,
            "type" : "string",
            "description" : "Enter the application code for which branch has to be deleted."
          },
          "pathCode" : {
            "maxLength" : 10,
            "type" : "string",
            "description" : "Enter the branch code that has to be deleted."
          },
          "forceInd" : {
            "maxLength" : 1,
            "type" : "string",
            "description" : "If the branch is not empty (i.e. libraries and directories contain objects) or the associated tasks are not yet complete then the branch can not be deleted unless the force parameter is set to *YES.                           \r\n\r\nIt is important that the environment branches ONLY contain temporary branch definitions and no official libraries because they will be deleted if this command is executed in FORCE mode.                                            \r\n\r\n*NO                                                       \r\n    The branch may only be deleted if all associated task are complete and the branch libraries and directories are empty.                                            \r\n\r\n*YES                                                      \r\n    The branch may be deleted even if the associated tasks are not completed.  Associated libraries and directories are removed regardless of their content.",
            "default" : "0",
            "enum" : [ "0", "1" ]
          }
        },
        "description" : "A branch is deleted using this input schema."
      },
      "stashBranchRequest" : {
        "required" : [ "applicationCode", "pathCode" ],
        "type" : "object",
        "properties" : {
          "applicationCode" : {
            "maxLength" : 5,
            "type" : "string",
            "description" : "Specify the application code of the branch.",
            "example" : "XMP"
          },
          "pathCode" : {
            "maxLength" : 10,
            "type" : "string",
            "description" : "Specify the branch code to stash.",
            "example" : "XT0275"
          },
          "reasonCode" : {
            "maxLength" : 5,
            "type" : "string",
            "description" : "Specify the reason code. The reason code indicates the reason why the branch was stashed. The possible values are:   \r\n\r\n*DFT   \r\nUse this value to indicate that the default reason code is to be used to stash the branch. The default reason code is user defined.    \r\n\r\nNote:  The reason code is maintained using the table maintenance (STRTM) function.",
            "default" : "*DFT",
            "enum" : [ "*DFT" ]
          }
        },
        "description" : "Input request to stash the branch."
      },
      "stashOrRestoreBranchData" : {
        "type" : "object",
        "properties" : {
          "applicationCode" : {
            "maxLength" : 5,
            "type" : "string",
            "description" : "Application code",
            "x-column" : "BIAPPC",
            "x-sequence" : "10"
          },
          "environmentCode" : {
            "maxLength" : 5,
            "type" : "string",
            "description" : "Environment code"
          },
          "pathCode" : {
            "maxLength" : 10,
            "type" : "string",
            "description" : "Path code",
            "x-column" : "BIPATH",
            "x-sequence" : "20"
          },
          "saveFile" : {
            "maxLength" : 10,
            "type" : "string",
            "description" : "Save file",
            "x-column" : "BISAVF",
            "x-sequence" : "30"
          },
          "fallBackLibrary" : {
            "maxLength" : 10,
            "type" : "string",
            "description" : "Fall back library"
          },
          "userIdOrUserClass" : {
            "maxLength" : 10,
            "type" : "string",
            "description" : "User i.d., or user class",
            "x-column" : "BIUSID",
            "x-sequence" : "40"
          }
        },
        "description" : "Response data for stash or restore branch.",
        "x-pfname" : "OMSBI",
        "x-library" : "V180KEP",
        "x-host" : "plato",
        "x-fieldSchemaNameType" : "Normalized"
      },
      "stashOrRestoreBranchResponse" : {
        "type" : "object",
        "properties" : {
          "status" : {
            "maxLength" : 5,
            "type" : "string",
            "description" : "The return status which can be *NORM or *TERM. In case of *TERM look at the message for more information."
          },
          "message" : {
            "$ref" : "#/components/schemas/extendedMessage"
          },
          "stashOrRestoreBranchData" : {
            "$ref" : "#/components/schemas/stashOrRestoreBranchData"
          }
        },
        "description" : "Response for stash or restore branch."
      },
      "restoreBranchRequest" : {
        "required" : [ "applicationCode", "pathCode" ],
        "type" : "object",
        "properties" : {
          "applicationCode" : {
            "maxLength" : 5,
            "type" : "string",
            "description" : "Specify the application code of the branch.",
            "example" : "XMP"
          },
          "pathCode" : {
            "maxLength" : 10,
            "type" : "string",
            "description" : "Specify the branch code to restore.",
            "example" : "XT0275"
          }
        },
        "description" : "Input request to restore the branch."
      }
    },
    "responses" : { },
    "examples" : {
      "response401" : {
        "summary" : "Not authorized.",
        "value" : {
          "messageFile" : "OMSAPI",
          "messageId" : "OMQF201",
          "messageData" : "",
          "messageText" : "Unauthorized or expired token. Please login again."
        }
      },
      "response400" : {
        "summary" : "Something went wrong.",
        "value" : {
          "messageFile" : "OMSAPI",
          "messageId" : "OMQ6001",
          "messageData" : "XXX",
          "messageText" : "Application code XXX does not exist. &N Cause . . . . . :   You have entered an application code which does not exist. &N Recovery  . . . :   Enter a valid application code and try your request again."
        }
      },
      "stashRestoreresponse400" : {
        "summary" : "Something went wrong.",
        "value" : {
          "messageFile" : "OMSAPI",
          "messageId" : "OMQ5112",
          "messageData" : "application code                invld",
          "messageText" : "The application code invld does not exist. \nCause . . . . . :   You have specified the application code invld that does not exist.\nRecovery  . . . :   Specify the existing application code and try your request again."
        }
      },
      "response200" : {
        "summary" : "Response to a successful API call.",
        "value" : {
          "messages" : {
            "messageFile" : "OMSAPI",
            "messageId" : "OMQ2016",
            "messageData" : "XT0275     XMP",
            "messageText" : "Action for branch XT0275 in application XMP completed normally"
          },
          "status" : "*NORM"
        }
      }
    },
    "securitySchemes" : {
      "JWT" : {
        "type" : "http",
        "description" : "http token",
        "scheme" : "bearer",
        "bearerFormat" : "JWT"
      }
    },
    "callbacks" : { }
  }
}
